<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmnl: Callback helpers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libmnl
   &#160;<span id="projectnumber">1.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Callback helpers</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga31db308999397ec157259ca73d303deb"><td class="memItemLeft" align="right" valign="top">EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__callback.html#ga31db308999397ec157259ca73d303deb">mnl_cb_run2</a> (const void *buf, size_t numbytes, unsigned int seq, unsigned int portid, mnl_cb_t cb_data, void *data, const mnl_cb_t *cb_ctl_array, unsigned int cb_ctl_array_len)</td></tr>
<tr class="separator:ga31db308999397ec157259ca73d303deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee7e8a7cccce4c4e8147c6c0dc0a4805"><td class="memItemLeft" align="right" valign="top">EXPORT_SYMBOL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__callback.html#gaee7e8a7cccce4c4e8147c6c0dc0a4805">mnl_cb_run</a> (const void *buf, size_t numbytes, unsigned int seq, unsigned int portid, mnl_cb_t cb_data, void *data)</td></tr>
<tr class="separator:gaee7e8a7cccce4c4e8147c6c0dc0a4805"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaee7e8a7cccce4c4e8147c6c0dc0a4805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee7e8a7cccce4c4e8147c6c0dc0a4805">&#9670;&nbsp;</a></span>mnl_cb_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL int mnl_cb_run </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>portid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mnl_cb_t&#160;</td>
          <td class="paramname"><em>cb_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mnl_cb_run - callback runqueue for netlink messages (simplified version) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>buffer that contains the netlink messages </td></tr>
    <tr><td class="paramname">numbytes</td><td>number of bytes stored in the buffer </td></tr>
    <tr><td class="paramname">seq</td><td>sequence number that we expect to receive </td></tr>
    <tr><td class="paramname">portid</td><td>Netlink PortID that we expect to receive </td></tr>
    <tr><td class="paramname">cb_data</td><td>callback handler for data messages </td></tr>
    <tr><td class="paramname">data</td><td>pointer to data that will be passed to the data callback handler</td></tr>
  </table>
  </dd>
</dl>
<p>This function is like <a class="el" href="group__callback.html#ga31db308999397ec157259ca73d303deb">mnl_cb_run2()</a> but it does not allow you to set the control callback handlers.</p>
<p>Your callback may return three possible values:</p><ul>
<li>MNL_CB_ERROR (&lt;=-1): an error has occurred. Stop callback runqueue.</li>
<li>MNL_CB_STOP (=0): stop callback runqueue.</li>
<li>MNL_CB_OK (&gt;=1): no problems has occurred.</li>
</ul>
<p>This function propagates the callback return value. </p>

<p class="definition">Definition at line <a class="el" href="callback_8c_source.html#l00159">159</a> of file <a class="el" href="callback_8c_source.html">callback.c</a>.</p>

</div>
</div>
<a id="ga31db308999397ec157259ca73d303deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31db308999397ec157259ca73d303deb">&#9670;&nbsp;</a></span>mnl_cb_run2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL int mnl_cb_run2 </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>portid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mnl_cb_t&#160;</td>
          <td class="paramname"><em>cb_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mnl_cb_t *&#160;</td>
          <td class="paramname"><em>cb_ctl_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cb_ctl_array_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mnl_cb_run2 - callback runqueue for netlink messages </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>buffer that contains the netlink messages </td></tr>
    <tr><td class="paramname">numbytes</td><td>number of bytes stored in the buffer </td></tr>
    <tr><td class="paramname">seq</td><td>sequence number that we expect to receive </td></tr>
    <tr><td class="paramname">portid</td><td>Netlink PortID that we expect to receive </td></tr>
    <tr><td class="paramname">cb_data</td><td>callback handler for data messages </td></tr>
    <tr><td class="paramname">data</td><td>pointer to data that will be passed to the data callback handler </td></tr>
    <tr><td class="paramname">cb_ctl_array</td><td>array of custom callback handlers from control messages </td></tr>
    <tr><td class="paramname">cb_ctl_array_len</td><td>array length of custom control callback handlers</td></tr>
  </table>
  </dd>
</dl>
<p>You can set the cb_ctl_array to NULL if you want to use the default control callback handlers, in that case, the parameter cb_ctl_array_len is not checked.</p>
<p>Your callback may return three possible values:</p><ul>
<li>MNL_CB_ERROR (&lt;=-1): an error has occurred. Stop callback runqueue.</li>
<li>MNL_CB_STOP (=0): stop callback runqueue.</li>
<li>MNL_CB_OK (&gt;=1): no problem has occurred.</li>
</ul>
<p>This function propagates the callback return value. On error, it returns -1 and errno is explicitly set. If the portID is not the expected, errno is set to ESRCH. If the sequence number is not the expected, errno is set to EPROTO. If the dump was interrupted, errno is set to EINTR and you should request a new fresh dump again. </p>

<p class="definition">Definition at line <a class="el" href="callback_8c_source.html#l00130">130</a> of file <a class="el" href="callback_8c_source.html">callback.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
